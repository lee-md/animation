<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scroll-based Scaling with GSAP</title>
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/feniix.css">
</head>

<body>
    <section id="hero" data-header-group="hero" data-anchor="page1" class="site-hero scroll-section f-scroll">
        <div class="text-block-19">Scroll</div>
        <div class="site-hero-inner scroll-inner">
            <div class="div-block-2 hero-video" style="transform: translate(-50%, -50%) scale(0.7);">
                <div data-autoplay="true" data-loop="true" data-wf-ignore="true"
                    class="background-video w-background-video w-background-video-atom">
                    <video
                        autoplay="" loop=""
                        muted="" playsinline="" data-wf-ignore="true" data-object-fit="cover">
                        <source
                            src="img/seiren-bg-video.mp4"
                            data-wf-ignore="true">
                        
                    </video>
                    </div>
            </div>
            <div class="w-layout-blockcontainer wrapper-1920 hero-wrapper w-container">
                <div class="columns w-row">
                    <div class="column-2 w-col w-col-11 w-col-small-small-stack w-col-tiny-tiny-stack">
                        <div data-header-group="scroll-text-one" class="content-wrapper con-one nten">
                            <h1 class="heading-one tran">Investments in the <strong class="bold-text-5">energy
                                    sector</strong> <span class="text-span-4 hide"> in the Americas</span></h1>
                        </div>
                        <div data-header-group="scroll-text-two" class="content-wrapper con-two hide" style=""></div>
                        <div data-header-group="scroll-text-three" class="content-wrapper con-three hide active"
                            style=""></div>
                    </div>
                    <div class="column w-col w-col-1 w-col-small-small-stack w-col-tiny-tiny-stack">
                        <div class="fixing-menu"><a href="/es" class="link">ES</a>/<a
                                href="https://www.feniix.co/?lang=en" class="link-2 eng">EN</a></div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/ScrollTrigger.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        function zin(){
         var sh = $("#hero").outerHeight();
         var wh = $(window).height();
         var gtv = 200/(sh - wh);
         // var ins = 0.5;
         var myv = 0.7;
         var winw = $(window).width()/2;
         /*if(gtv*($(window).scrollTop()/100) <= 1){
         myv = 1;
         }else *//*if(gtv*($(window).scrollTop()/100) > 2){
         myv = 1.75;
         }else{*/
         // console.log("> "+gtv);
         myv = parseFloat(myv) + parseFloat(gtv*($(window).scrollTop()/100));
         // console.log(myv);
         /*} */
         
         if($(window).scrollTop() > (sh-wh)){
             $("body").addClass("scroll-down");
         }else{
             $("body").removeClass("scroll-down");
         }
         
         $(".hero-video").css({"transform":"translate(-50%,-50%) scale("+myv+")" });
        }
        $(window).on("load",function(){
            zin();
        });
        $(window).on("scroll",function(){
            zin();
        });
        $(window).on("resize",function(){
            zin();
        });
        
        
        function animp(){
            $('.hero-wrapper .content-wrapper').each(function(){
            //alert($(this).text());
              var top_of_element = $(this).offset().top+($(window).innerHeight()/1.6);
              var bottom_of_element = $(this).offset().top + $(this).outerHeight();
              var bottom_of_screen = $(window).scrollTop() + $(window).innerHeight();
              var top_of_screen = $(window).scrollTop();
              // alert($(this).text()+": "+top_of_element+" - "+bottom_of_element+" - "+bottom_of_screen+" - "+top_of_screen);
              if ((bottom_of_screen > top_of_element) && (top_of_screen < bottom_of_element)){
                   $(this).prev(".content-wrapper").removeClass('active');
                 $(this).addClass('active');
              } else {
                  $(this).removeClass('active');
              }
            });
          }
        $(window).on('scroll',function() {
            animp();
        });
        $(window).on('load',function() {
            animp();
        });
        
        
        
        </script>
</body>

</html>